<!DOCTYPE html>
<html>
    <head>
        <title>종목토론방</title>
        <meta charset="utf-8" />
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <style>
            span { 
                display: inline-block;
                padding: 10px;
                width: 90px; 
            }
        </style>
    </head>
    <body>
        <h1>종목토론방</h1>
        <div>
            <span>아이디</span><input id='id-input' type='text'>
            <br>
            <span>비밀번호</span><input id='pw-input' type='password'>
            <br>
            <button id='signIn-Btn' onclick="ajaxFunc()">로그인</button>
            <button id='signUp-Btn' onclick="location.href='/signUp'">회원가입</button>
            <button id='findId-Btn' onclick="location.href='/findId'">아이디찾기</button>
            <button id='findPw-Btn' onclick="location.href='/findPw'">비밀번호찾기</button>
        </div>            
    </body>
</html>

<script>

    // 로그인 정보 확인
    function ajaxFunc() {
        const userId = $('#id-input').val();
        const userPw = $('#pw-input').val();
        $.ajax({
            url : 'request-sign-in-check',
            type : 'POST',
            data : {
                id : userId,
                pw : userPw,
            },
            success : function(data) {
                console.log(data);
                if(data == 'CODE1') {
                    alert('등록되지 않은 아이디 입니다');
                } else if(data == 'CODE2') {
                    alert('비밀번호가 틀립니다');
                } else {
                    alert('로그인 성공');
                    location.href = '/home';
                }
            }
        })
    }

</script>